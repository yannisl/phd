%%
%% This is file `phd-epigraphs.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% phd-epigraphs.dtx  (with options: `EPI')
%% ----------------------------------------------------------------
%% phd-epigraphs
%% A package to manage epigraphs in LaTeX
%% E-mail: yannislaz@gmail.com
%% Released under the LaTeX Project Public License v1.3c or later
%% See http://www.latex-project.org/lppl.txt
%% ----------------------------------------------------------------
\NeedsTeXFormat{LaTeX2e}[2017/04/15]%
\ProvidesPackage{phd-epigraphs}%
  [2015/13/06 v1.0 epigraph styling]%

\@ifundefined{epigraph}
  {%
    \RequirePackage{epigraph}
   %% Set up the epigraph to be a bit wider
    \setlength{\epigraphwidth}{8cm}
    \setlength{\epigraphrule}{0pt}
    \newcommand{\theepigraph}[2]{\epigraphhead[30]{\epigraph{#1}{\textit{#2}}}}
  }
  {%for memoir
   \setlength{\epigraphwidth}{8cm}
   \setlength{\epigraphrule}{0pt}
   \newcommand{\theepigraph}[2]{\epigraphhead[30]{\epigraph{#1}{\textit{#2}}}}%
  }

\cxset{
  epigraph width/.code               = {\setlength\epigraphwidth{#1}},
  epigraph font-size/.code           = {\renewcommand{\epigraphsize}{#1}},
  epigraph beforeskip/.code          = {\setlength\beforeepigraphskip{#1}},
  epigraph afterskip/.code           = {\setlength\afterepigraphskip{#1}},
  epigraph align/.is choice,
  epigraph align/center/.code        = {\renewcommand{\epigraphflush}{center}},
  epigraph align/left/.code          = {\renewcommand{\epigraphflush}{flushleft}},
  epigraph align/right/.code         = {\renewcommand{\epigraphflush}{flushright}},
  epigraph source align/.is choice,
  epigraph source align/left/.code   = {\renewcommand{\sourceflush}{flushleft}},
  epigraph source align/right/.code  = {\renewcommand{\sourceflush}{flushright}},
  epigraph source align/center/.code = {\renewcommand{\sourceflush}{center}},
  epigraph text align/.is choice,
  epigraph text align/left/.code     = {\renewcommand{\textflush}{flushleft}},
  epigraph text align/right/.code    = {\renewcommand{\textflush}{flushright}},
  epigraph text align/center/.code   = {\renewcommand{\textflush}{center}},
  epigraph rule width/.code          = {\setlength\epigraphrule{#1}},
  epigraph rule color/.store in      = \epigraphrulecolor@cx,
  epigraph rule/.code                = {
                                        \renewcommand{\@epirule}{%
      \color{\epigraphrulecolor@cx}\rule[.5ex]{\epigraphwidth}{\epigraphrule}}%
},
}
\ExplSyntaxOn
\cxset
  {
    epigraph~width        = 0.7\linewidth,
    epigraph~font-size    = \small,
    epigraph~rule~width   = 0.4pt,
    epigraph~align        = right,
    epigraph~source~align = right,
    epigraph~text~align   = right,
    epigraph~rule~color   = theepigraphrulecolor,
    epigraph~rule,
  }
\ExplSyntaxOff
%%  Copyright (C) 2015 by Dr. Yiannis Lazarides <yannislaz@gmail.com>
%%
%% End of file `phd-epigraphs.sty'.
