\documentclass[a4paper]{article}
\usepackage{caption}
\usepackage{graphicx}
\newif\ifcensored
\makeatletter
\let\if@demo\ifcencored
\begin{document}
\centering
\ifcensored
    \includegraphics[decodearray=
                                 0.0 0.0
                                 0.0 0.0 
                                 0.0 0.0, width=5cm]{amato.jpg}%
\captionof{figure}{censored image}
\else
   \includegraphics[width=5cm]{amato.jpg}% image with RGB colors
   \captionof{figure}{uncensored}
\fi
\includegraphics[decodearray=  0.0 0.0
                               0.0 0.0 
                               0.0 0.0, width=5cm]{amato.jpg}%
\captionof{figure}{censored image}
\includegraphics[width=5cm]{amato.jpg}% image with RGB colors
\captionof{figure}{uncensored}

\DeclareRobustCommand{\cimage}[3][]{
\ifcensored
    \includegraphics[decodearray=
                                 0.0 0.0
                                 0.0 0.0 
                                 0.0 0.0, width=5cm]{#2}%
\captionof{figure}{#3(censored image)}
\else
   \includegraphics[width=5cm]{#2}% image with RGB colors
   \captionof{figure}{#3}
\fi
}

\censoredtrue
\cimage{amato.jpg}{A caption for your figure}

\end{document}