\documentclass[book,twoside,12pt,a4paper]{phddoc}
\usepackage[bottom=4cm,footskip=3cm,
            headsep=2cm]{geometry}
\savegeometry{std}
\usepackage{microtype}
\usepackage{imakeidx}[options=phd]
\usepackage{phd}
\usepackage{phd-pkgmanager}
\usepackage{documentation}
\usepackage{phd-lowersections}
\usepackage{phd-runningheads}
\input{defaults-chapters}
\makeindex[program=makeindex,options=-s phd,intoc]
\makeindex[name=latex,title=Index of LaTeX Core,columns=2,options=-s phd,intoc]
\makeindex[name=phdkeys,title=Index of PHD Keys,columns=2,options=-s phd,intoc]
\newfontfamily\aegean{Aegean.ttf}
\let\lineara\aegean
\let\linearb\aegean
\let\lycian\aegean
\let\cypriote\aegean
\let\lydian\lycian
\let\lydianfont\aegean
\let\carian\lydianfont
\newfontfamily\oldpersian{Noto Sans Old Persian}
\newfontfamily\inscriptionalpahlavi{Noto Sans Inscriptional Pahlavi}
\newfontfamily\imperialaramaic{NotoSansImperialAramaic-Regular.ttf}
\newfontfamily\avestan{NotoSansAvestan-Regular.ttf}
\newfontfamily\arial{Arial Unicode MS}
%% insert hyperref and friends
\sethyperref

%% biblatex already loaded, we add the bib sources
%% can be omitted carefully
\addbibresource{phd1.bib}% Syntax 
%% Set the color scheme
\cxset{palette spring onion}  
%% Load as a default     
\newfontfamily\symbola{Symbola}
\newfontfamily\georgia{Georgia}

%%check in fonts
\let\HUGE\Huge

\let\changes\empty

%\newfontfamily\hebrewfont[Script=Hebrew, Scale=MatchUppercase, Ligatures=TeX]{Arial Unicode MS}
%\let\hebrew\arial
\newcommand{\texthebrew}[1]{\bgroup\linedir TRT\hebrew #1\egroup}
\usepackage[tone,extra,safe]{tipa}

\usepackage[np]{numprint}
\usepackage{media9}
\begin{document}
\DEBUGOFF
\overfullrule0pt
 \frontmatter
  \pagestyle{empty}
  \let\bold\bfseries
  \def\shorttitle{Dissecting}
 \coverpage{desert}{Book Design Monographs}{Camel Press}{the LaTeX}{Kernel} 
\secondpage
 \newpage
\tableofcontents
 \mainmatter
 \pagestyle{headings}
 
  % \catcode `\| =12
  %  \DeleteShortVerb
 
  
  \makeatletter
  \@debugtrue
  \makeatother
  \cxset{section format=hang,
         chapter format = stewart,}
  
%  \def\docauthoright{Y Lazarides}
%  \def\headingslogo{\headingscopyrightline\enspace\tcbox[size=minimal]{\inputgraphics[width=1cm]{balthus-11}}}
%  \def\fulltitle{\textsl{LUA AND LUATEX}}
%  \def\halftitleleft{\textls{\sffamily Conspel}}
%  \def\halftitleright{\sffamily\textls{\today}}%typography
%  
  \def\luacmd#1{{\textbf{#1}}}
  
  \let\oldFootnote\footnote
   \newcommand\nextToken\relax

  \renewcommand\footnote[1]{%
    \oldFootnote{#1}\futurelet\nextToken\isFootnote}

\newcommand\isFootnote{%
    \ifx\footnote\nextToken\textsuperscript{,}\fi}

  
\cxset{part format=stewart,
       chapter afterindent=on,
       subsection afterindent=off,
       part afterindent=on,
       section format=hang,
       chapter format=block,
       chapter opening=left,
       chapter label background-color=white,
       chapter number background-color=white,
       chapter title font-family = upshape}

%  \cxset{headings style,
%         pagestyle = headings,
%         chapter numbering=arabic,
%         palette unorange}
   %  %% KERNEL BELOW    
   \hbadness=10000
\newcount\hbadness
\hfuzz=\maxdimen
\def\bce{\textsc{bce}\xspace}
%% TEXX
%\input{./sections/chapterdesign}
 
%\input{./sections/macros}
%introduction
%\input{./sections/tables}
%\end{document}
%\input{./languages/anatolian-hieroglyphs}
\input{./languages/ancient-anatolian}
\input{./languages/lycian}


%\input{./languages/indo-european}
%\input{./languages/greek}
%\input{./languages/lineara}
%\input{./languages/linearb}
%\input{./languages/cypriote}
%
%%\input{./languages/carian}
%\input{./languages/armenian}
%
%
%\input{./languages/anatolian-hieroglyphs}
%\input{./languages/ancient-anatolian}
%
%\input{./languages/austronesian}
%\input{./languages/tagalog}
%\input{./languages/hanuno}
%
%
%
%\input{./sections/languages}
%\input{./sections/unicode}


%\input{./languages/ugaritic}
%\input{./languages/sumero-akkadian}
%
%% Middle East
%\input{./languages/hebrew}
%\input{./languages/syriac}
%
%%Tai-Kadai languages
%\input{./languages/languages-of-eastern-asia}
%\input{./languages/thai}
%\input{./languages/lao}
%
%% Dravidian
%\input{./languages/dravidian}
%\input{./languages/south-east-asian-scripts}
%\input{./languages/east-asian-scripts}
%\input{./languages/hangul}
%
%%Central Asia
%\input{./languages/mongolian}
%\input{./languages/phags-pa}
%
%
%\input{./languages/rongo}
%
%
%
%% Austronesian
%\input{./languages/austronesian}
%
%
%
%
%%Greek
%
%
%
%\input{./languages//scriptsindex}
%\input{./languages/indus-script}
%\input{./languages/dravidian}
%\input{south-asian-scripts}
%\input{./languages/tamil}
%\input{./languages/oriya}
%
%\input{./languages/mende-kikakui}
%\input{./languages/bamum}
%\input{./languages/bassah-vah}
\end{document}



\input{./languages/lepcha}



\input{./languages/ancient-and-historic-scripts}

%\input{./sections/noise}\end{document}


\input{./languages/modern-scripts}
\input{./languages/european-alphabetic}
\input{./languages/middle-eastern-scripts}

 \clearpage

\nocite{*}
\printbibliography
\printindex 
\printindex[phdkeys]
\printindex[latex]

\end{document}
\input{./sections/fonts}
\input{./sections/languages} %pass error in epigraph? 

\input{./sections/i18n} %pass 

\end{document}
   
\input{./sections/boxesandglue} %passbiber
\input{./sections/rulesandleaders} %pass 

\input{./sections/graphics}         
%\input{./sections/captions}     
\nocite{*}
\printbibliography
\printindex 
\printindex[phdkeys]
\printindex[latex]  
\end{document}
 \input{./sections/paragraphs}
 \input{./sections/iteration} %pass 



\input{./sections/expandafter}   %pass
\input{./sections/futurelet} %pass     
\input{./sections/io} %pass   
 \input{./sections/colors} %pass 
\input{./sections/book-class}
\input{./sections/indices}
\input{./kernel/kernel-intro}   
 

 \ifalse 
\input{./kernel/kernel-ltplain}  % LaTeX version of Knuth's plain.tex
\input{./kernel/kernel-ltvers}   % Current version date
\input{./kernel/kernel-ltdefns}  % Initial definitions.
\input{./kernel/kernel-d-ltxdefns} duplicate
 \input{./kernel/kernel-ltalloc}  % Allocation of counters and others.
 \input{./kernel/kernel-ltcntrl}  % Program control macros.
 \input{./kernel/kernel-lterror}  % Error handling
 %  \Docinput{ltpar}    % Paragraphs.
 \input{./kernel/kernel-ltspace}  % Spacing, line and page breaking.
 \input{./kernel/kernel-ltlogos}  % Logos.
 \input{./kernel/kernel-ltfiles} % input files and related commands.
 \input{./kernel/kernel-ltoutenc} % Output encoding interface

 \input{./kernel/kernel-ltcounts} % Counters
 \input{./kernel/kernel-N-ltlength} % Lengths
%
%
% %\part[]{Fonts}	  
% 
 \input{./kernel/kernel-ltfssbas}  % NFSS Base macros
 \input{./kernel/kernel-ltfsstrc} % NFSS Tracing (and tracefnt.sty)
  %\Docinput{ltfsscmp} % NFSS1 Compatibility
 %\Docinput{ltfssdcl} % NFSS Declarative interface
 \input{./kernel/kernel-ltfssini}   % NFSS Initialisation
 \input{./kernel/kernel-fontdef}   % fonttext.ltx/fontmath.ltx
 \input{./kernel/kernel-preload}  % preload.ltx
 \input{./kernel/kernel-ltfntcmd} % \textrm etc  
%     
%      
 \input{./kernel/kernel-ltpageno}  % Page numbering  
 \input{./kernel/kernel-ltxref}    % Cross referencing
 \input{./kernel/kernel-ltmiscen}  % Miscellaneous environment definitions.
 \input{./kernel/kernel-ltmath}   % Mathematics set up.
 \input{./kernel/kernel-ltlists}  % List and related environments
 \input{./kernel/kernel-ltboxes}  % Parbox and friends
 \input{./kernel/kernel-lttab}    % Tabbing tabular and array
   
 \input{./kernel/kernel-ltpictur}  % Picture mode
 % \input{./kernel/kernel-ltthm}   % Theorem environments    
 \input{./kernel/kernel-ltsect} % Sectioning
 %\input{./kernel/kernel-ltfloat}  % Floats  
       
 \input{./kernel/kernel-ltidxglo}   % Index and Glossary    
 \input{./kernel/kernel-ltbibl}     % Bibliography  
 \input{./kernel/kernel-ltpage}  % \pagestyle \raggedbottom \sloppy
 \input{./kernel/kernel-ltoutput}% Output routine
 \input{./kernel/kernel-ltclass}  % Package & Class interface
 \input{./kernel/kernel-lthyphen}  % Hyphenation (hyphen.ltx).
%  \Docinput{ltluatex} % Luatex support   
           
        
\input{./kernel/kernel-ltfinal}    % Last minute initialisations and dump   
\fi
%   \inputltpatch       % Corrections distributed after the full release      
  
% Make TeX shut up.
\hbadness=10000
\newcount\hbadness
\hfuzz=\maxdimen      
       
         

\end{document}    
               
       
   
   
  
   %\input{./sections/unicodemath}      
        
%  \input{./sections/numbers}         
         
  \input{./sections/datastructures}         
  \input{./sections/characters}  %pass       
        
  
       
  %\input{./l3sections/l3box}  %error due to coffins    
  \input{./sections/tables} %pass threepart table to fix      
%  \input{./sections/environments}         
  \input{./sections/lists} %pass     
%  %\input{./sections/maths-01} 
%  \input{./sections/tableofcontents}        
%  %\input{./sections/floats}       
   
%  \input{./sections/acronyms}   
%  \input{./sections/dropcaps}    
   \input{./sections/book-class} %pass      
  \input{./sections/long-figures} %pass       
       
 % \input{./sections/luatex-fonts}         
  \input{./sections/classes}  %pass


\nocite{*}
\printbibliography
\printindex
\printindex[phdkeys]
  \end{document} 